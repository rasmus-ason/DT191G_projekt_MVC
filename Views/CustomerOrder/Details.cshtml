@model DT191G_projekt.Models.CustomerOrder

@{
    ViewData["Title"] = "Se orderdetaljer";
}

<h1>Orderdetaljer</h1>

<div>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.OrderNumber)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.OrderNumber)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Firstname)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Firstname)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Lastname)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Lastname)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Email)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Email)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Phonenumber)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Phonenumber)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Adress)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Adress)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.ZipCode)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.ZipCode)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.City)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.City)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.PurchaseDate)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.PurchaseDate)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.TotalPrice)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.TotalPrice) kr
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.ShippingCost)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.ShippingCost) kr
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.IsPacked)
        </dt>
            @if(Model.IsPacked == true){
               <dd class="col-sm-10"> Ja </dd>
            }else {
                <dd class="col-sm-10"> Nej  </dd>
            }
        
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.IsShipped)
        </dt>

        @if(Model.IsShipped == true){
               <dd class="col-sm-10"> Ja </dd>
            }else {
                <dd class="col-sm-10"> Nej  </dd>
            }
    </dl>
</div>

@* Only displays on packed orders *@
@if(Model.IsPacked == true && Model.IsShipped == false) {
    <form asp-controller="CustomerOrder" asp-action="ChangeStatus" asp-route-ordernumber="@Model?.OrderNumber" method="post">
        <button class="changeStatusBtn" type="submit">Ã„ndra order till plockad</button>
    </form>
}


<div>
    <a href="javascript:void(0);" onclick="goBackToPreviousPage()">Tillbaka</a>
</div>

@* Add a fall back if javascript function not working in browser *@
<script>
function goBackToPreviousPage() {
    try {
        window.history.back();
    } catch(e) {
        window.location.href = '@Url.Action("Index", "CustomerOrder")';
    }
}
</script>